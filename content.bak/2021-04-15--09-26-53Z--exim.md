---
title: Exim
date: 2021-04-15 09:26
---

# Exim
[Source](https://wiki.inmotionhosting.com/index.php?title=Exim)

Mailing daemon used for sending/receiving email on all of our servers.
* Ports: 25 (standard), 587 (submission), and 465 (SSL/TLS).
* Only MTA that cPanel supports

## Basic Technical Information

* [Email Limitations](2021-04-15--09-31-40Z--email_limitations.md)
* [Reading Email Headers](2021-04-15--09-31-56Z--reading_email_headers.md)
* [Basic Exim Administration](2021-04-15--09-32-12Z--basic_exim_administration.md)

## Service Control

Starting, stopping, status:
```
service exim {start|stop|restart|status}
# or
systemctl {start|stop|restart|status} exim
```

After making changes to `exim.conf` the fastest way to load the config, is to
send the exim pid a _SIGHUP_.
```
kill -HUP $(cat /var/spool/exim/exim-daemon.pid)
```
You should then see something like this in `exim_mainlog`:
```
pid 1079: SIGHUP received: re-exec daemon
exim 4.52 daemon started: pid=1079, -q1h, listening for SMTP on port 25 (IPv4)
```

## Key Directories, Files, and Scripts

| File/Directory             | Description                                            |
|----------------------------|--------------------------------------------------------|
| `/var/log/exim_paniclog`   | Critical errors                                        |
| `/var/log/exim_mainlog`    | Service and message delivery information               |
| `/var/spool/exim/msglog`   | Individual message logs, named according to message id |
| `/var/spool/exim/input`    | Mail in queue in these directories                     |
| `/etc/valiases`            | Forwarder information for email accounts, per domain   |
| `/etc/vdomainaliases`      | Domain forwarders                                      |
| `/etc/relayhosts`          | IPs temporarily allowed to relay through host          |
| `/etc/alwaysrelay`         | IPs always allowed to relay through host               |
| `/etc/exim.conf`           | Main exim config file                                  |
| `/etc/exim.conf.local`     | Editable template for changing config                  |
| `/etc/exim.conf.localopts` | Bitflagged config for cPanel specific configs          |
| `/etc/localdomains`        | Lists domains on server routed _locally_               |
| `/etc/remotedomains`       | Lists domains on server routed _remotely_              |
| `/scripts/buildeximconf`   | Rebuilds `exim.conf`                                   |

- [ ] Change wiki to table for legibility,
			[source](https://wiki.inmotionhosting.com/index.php?title=Exim#Key_Directories.2C_Files.2C_and_Scripts)
## Administration
_Stub_

## Additional Resources
* Most of these pages is a summary and expansion of this cheatsheet: http://bradthemad.org/tech/notes/exim_cheatsheet.php
* Exim command line specifications - extended options not covered or more fully explained here: http://www.exim.org/exim-html-4.50/doc/html/spec_5.html#IX199
* Exim specs - good for researching changes/effects of configuration: http://www.exim.org/exim-html-4.50/doc/html/spec.html
* Exim FAQ - http://wiki.exim.org/FAQ

