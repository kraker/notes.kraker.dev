---
title: BIND
date: 2021-04-15 14:16
---

# BIND
_AKA named_

Linux nameserver deamon. 
* Port: 53
* User: named
* All IMH nameservers run BIND

## Service Control

```
service named {stop|start|restart|status}
# or
systemctl {stop|start|restart|status}
```
**Note: don't stop/start/restart named on shared. Use reload instead.**

### Controlling Bind Using `rndc`

Status: `rndc status`

Reload zones and conf: 
```
rndc reload
# or
service named reload
systemctl reload named
```

Reload single zone: `rndc reload <zonename>`

Toggle qury logging: `rndc querylog`
(Caution, can create a lot of data)

### Key Directories, Files, and Scripts

| File/Directory              | Description                                              |
|-----------------------------|----------------------------------------------------------|
| `/etc/named.conf`           | Main configuration file for named                        |
| `/scripts/rebuilddnsconfig` | Rebuilds `named.conf` in case of misconfiguration        |
| `/var/named`                | On master nameservers this directory contains zone files |
| `/var/named/slaves`         | ON slave nameservers this directory contains zone files  |
| `/var/log/ramlog/named.log` | Logs for nameserver                                      |
| `/scripts/setupnameserver`  | Sets up nameservers                                      |
| `/scripts/ulimitnamed`      | Enforces limits for BIND/named                           |

#### IMH Custom Scripts

Used to push zones from cluster to main nameservers
```
NS/NS2:/home/nagios
	- sync-nameservers.pl - script used to combine named.conf from zone clusters and sync ns/ns2 - 	- sync-nameservers.log - error log
 	- top.named.conf - top section of the named.conf that gets copied
 	- skip.list - skiplist of internal zones such as . or 0.0.127.in-addr.arpa (local zones)
 	- old.sync-nameservers.log - used by Nagios, can safely ignore
```


